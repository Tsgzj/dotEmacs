# -*- coding: utf-8 -*-
require 'open-uri'
require 'iconv'

ic = Iconv.new('UTF-8', 'BIG5')

page = open('http://www.cwb.gov.tw/V5/forecast/taiwan/week.htm')
data = ic.iconv(page.read)
start = false
data.each do |line|
if start && line =~ /
break;
end

if start
content = line.scan(/title="(.*)">
(.*?) puts content[0] + ", " + content[1]
end

if line =~ /台北市/
start = true
end
end
